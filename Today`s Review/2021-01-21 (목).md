

###### 1. 학습 날짜

- 2021 - 01 - 21(목)

---

###### 2. 학습시간

- 10:00 ~ 18:00

---

###### 3. 학습 범위 및 주제

- 필로소퍼 2

---

###### 4. 동료 학습 방법 

- daelee, taelee, jehong, mihykim

---

###### 5. 학습 목표 

- 필로소퍼 2 구현

---

###### 6. 상세 학습 내용

- 코드작성시간 :  시간
- 필로 원에서 포크를 뮤텍스 락해서 왼쪽, 오른쪽 순서로 잡게만들었는데 세마포는 한번에 인원수 / 2 만큼 집게하면 되기 때문에 뮤텍스부분을 특정 갯수만큼 접근가능한 세마포로만 변경해주면 됨.
- 

## **philo_two**

philo_two에서는 여전히 스레드를 사용하지만, 더이상 mutex를 사용하지 않고 semaphore를 사용합니다.

이 문제에서 포크는 철학자들의 사이가 아니라 테이블의 가운대에 모여있게 됩니다. 그리고 여러 포크를 만드는 것이 아니라 하나의 세마포어 값으로 사용해야 합니다.

세마포어를 사용하기 위해서는 semaphore.h를 포함시키면 됩니다.

### **semaphore**

mutex는 한번에 하나의 스레드만이 접근할 수 있도록 했지만 semaphore는 여러 스레드가 접근할 수 있도록 할 수 있습니다. 세마포어는 특정 값을 가지고 있는데, 이 값이 0보다 크면 자원에 접근할 수 있고, 0이면 접근할 수 없습니다. 그러므로 세마포어의 값이 1이라면 mutex와 동일하게 사용할 수 있습니다.

### **sem_t\* sem_open(const char \*name, int oflag, mode_t mode, unsigned int value)**

이름 있는 세마포어의 경우 sem_open으로 생성 파일로 만들어지기 때문에, 파일 이름과 권한 설정이 필요

### **int sem_close(sem_t \*sem)**

세마포어 자원을 반환함

### **int sem_post(sem_t \*sem)**

세마포어를 되돌려줌 세마포어 값이 하나 증가

### **int sem_wait(sem_t \*sem)**

세마포어를 얻을 때까지 기다림 sem_wait함수는 만약 세마포어 값이 0보다 크면 프로세스는 세마포어를 얻고 세마포어를 감소하고 즉시 반환 세마포어 값이 0이라면 세마포어가 0보다 더 커지거나 시그널이 발생할 때까지 대기

### **int sem_unlink(const char \*name)**

세마포어를 삭제(이름 있는 세마포어를 삭제하고자 할 때 사용) 이름 있는 세마포어의 경우 파일로 생성되기 때문에 제거를 해야 함

---

###### 7. 학습 내용에 대한 개인적인 총평

- 뮤텍스로 구현한 상호배제조건을 세마포어로 변경하면 된다.

###### 8. 다음 학습 계획

- 필로소퍼 3