---
###### 1. 학습 날짜

- 2020-05 -09(토)
 
---
###### 2. 학습시간

- 15:00 ~ 23:00(자가)

---
###### 3. 학습 범위 및 주제

- 백준 문제풀이 스프링
---
###### 4. 동료 학습 방법 

- slack (saji, yshin, Jiyang, Seongkim)

---
###### 5. 학습 목표 

- 백준 문제풀이 스프링

---
###### 6. 상세 학습 내용

- 코드작성시간 : 4 시간
## 코드로 배우는 스프링프레임워크

### 1. 환경설정

- pom.xml에서 springframework버전을 3.1.1에서 5점 버전대로 변경한다.

```xml
	<properties>
		<java-version>1.6</java-version>
		<org.springframework-version>5.0.7.RELEASE</org.springframework-version>
		<org.aspectj-version>1.6.10</org.aspectj-version>
		<org.slf4j-version>1.6.6</org.slf4j-version>
	</properties>
```

- 스프링 5점 버전대를 이용하기 위해서는 JDK 1.8을 사용하는 것이 좋으므로 마찬가지로 변경한다

```xml
           <plugin>
               <groupId>org.apache.maven.plugins</groupId>
               <artifactId>maven-compiler-plugin</artifactId>
               <version>3.5.1</version>
               <configuration>
                   <source>1.8</source>
                   <target>1.8</target>
                   <compilerArgument>-Xlint:all</compilerArgument>
                   <showWarnings>true</showWarnings>
                   <showDeprecation>true</showDeprecation>
                </configuration>
            </plugin>
```



변경을 완료했다면, 프로젝트 -> Maven -> Update Project를 수행한다.

수행 뒤에 JRE System Library 의 실행환경이 1.8기준으로 설정된 것을 확인할 수 있다.

Run on Server로 동작확인!



## Lombok 라이브러리 설치

- getter/setter, toString() 생성자 등을 자동으로 생성해줌!
- https://projectlombok.org 에서 jar형태 파일로 다운로드 가능

- 다운로드 후, cmd의 경로안에 lombok.jar를 넣고, java -jar lombok.jar 명령어를 쳐준다.
- 설치가 완료되면 이클립스 또는 STS의 경로에 lombok.jar이 추가된 것을 확인할 수 있다.



## 에러확인하는 방법

- Window -> Show view -> Other -> general -> problem에서 에러메시지 확인가능하다.
- pom.xml에서 빨간 경고 발생시, 해당 라이브러리를 다운로드못하면서 생기는 문제
  - 사용자 폴더내의 .m2폴더안의 내용을 모두 삭제후 다시 프로젝트 시작
- invalid loc header(bad signature)
  - 톰캣쪽 라이브러리가 제대로 처리되지 않았음, Maven -> Update Project로 업데이트



## JAVA Configuration을 하는 경우

- XML기반으로 스프링 관련 설정하는 것 보다 JAVA를 이용하는 설정이 점점 증가하는 중임.
- web.xml파일 삭제 및 스프링 관련 파일 삭제
  - web, servelet-context, root-context.xml 삭제
- pom.xml 수정 및 스프링 버전 변경
- java설정 관련 패키지 생성



web.xml을 삭제하면 pom에서 에러가 발생함

해결하기 위해 plugins 내의 아래의 설정을 추가한다.

```xml
            <plugin>
            	<groupId>org.apache.maven.plugins</groupId>
            	<artifactId>maven-war-plugin</artifactId>
            	<version>3.2.0</version>
            	<configuration>
            		<failOnMissingWebXml>false</failOnMissingWebXml>
            	</configuration>
            </plugin>
```

스프링 버전도 변경

```xml
<java-version>1.8</java-version>
		<org.springframework-version>5.0.7.RELEASE</org.springframework-version>
```

컴파일 버전도 마찬가지로 변경

```xml
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>2.5.1</version>
                <configuration>
                    <source>1.8</source>
                    <target>1.8</target>
                    <compilerArgument>-Xlint:all</compilerArgument>
                    <showWarnings>true</showWarnings>
                    <showDeprecation>true</showDeprecation>
                </configuration>
            </plugin>
```

Maven -> Update Project 실행





## @Configuration

- java설정시 XML대신 설정파일을 직접 작성해야한다.
- 스프링은 @Configuration을 이용해 해당 클래스의 인스턴스를 이용해 설정 파일을 대신한다.
- 프로젝트 내에 패키지명.config라는 폴더를 생성하고 RootConfig클래스를 작성.

```java
package org.zerock.config;
import org.springframework.context.annotation.Configuration;
@Configuration
public class RootConfig {
}
```



## web.xml을 대신하는 클래스 작성

- web.xml의 역할을 대신하는 클래스를 작성해야한다.
- config패키지 내에 webConfig클래스를 생성한다.

```java
package org.zerock.config;
import org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;
public class WebConfig extends
	AbstractAnnotationConfigDispatcherServletInitializer{
		@Override
		protected Class<?>[] getRootConfigClasses(){
			return new Class[] {RootConfig.class};
		}
		@Override
		protected Class<?>[] getServletConfigClasses() {
			// TODO Auto-generated method stub
			return null;
		}
		@Override
		protected String[] getServletMappings() {
			// TODO Auto-generated method stub
			return null;
	}
}
```

## 의존성주입

하나의 객체가 다른 객체 없이 역할을 제대로 행할 수  없다는 것 = 의존성

A객체가 B객체 없이 동작이 불가능한 상황을 A가 B에 의존적이다 라고 표현한다.

의존성 주입이란, 어떤 객체가 필요한 객체를 외부에서 밀어 넣는다. 라는 것



- 스프링에서는 생성자를 이용한 주입, Setter 메소드를 이용한 주입으로 의존성 주입을 구현한다.

- 설정방식은 XML이나 어노테이션을 이용해 처리한다.

  

  pom.xml

```xml
		<!-- Spring TEST -->
		<dependency>
			<groupId>org.springframework</groupId>
			<artifactId>spring-test</artifactId>
			<version>${org.springframework-version}</version>
		</dependency>
		
		<!-- lombok -->
		<dependency>
			<groupId>org.projectlombok</groupId>
			<artifactId>lombok</artifactId>
			<version>1.18.0</version>
			<scope>provided</scope>
		</dependency>

<!-- log4j -->
1.2.17버전으로 변경한다.

		<!-- Test  -->
4.12버전으로 변경한다
		<dependency>
			<groupId>junit</groupId>
			<artifactId>junit</artifactId>
			<version>4.12</version>
			<scope>test</scope>
		</dependency> 
```



ex00프로젝트에 sample패키지 생성하고 Restaurant, Chef클래스 생성.

```java
package org.zerock.sample;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

import lombok.Data;
import lombok.Setter;

@Component
@Data
public class Restaurant {
	@Setter(onMethod = @__({@Autowired}))
	private Chef chef;
}

```

```java
package org.zerock.sample;

import org.springframework.stereotype.Component;

import lombok.Data;

@Component
@Data
public class Chef {

}

```

Restaurant객체는 Chef타입의 객체를 필요로 한다.

@Component는 스프링에게 해당 클래스가 스프링에서 관리해야하는 대상임을 표현

@Setter는 자동으로 set~()를 컴파일 시 생성함



---
###### 7. 학습 내용에 대한 개인적인 총평
- 책을 구매해서 스프링설정과 의존성주입등 학습을 했다.
- 역시 인터넷으로 사방팔방에 있는 정보랑 순차적으로 정리되어 있는 정보랑 차이가 많이난다.. 애초에 책을 구매해서 볼걸그랬다.
- 해당책은 내가 원하는 부분이 전부 있어 따라가기만 해도 많은 도움을 받을 것 같다.
- 단기간에 CRUD를 구현한다는 것은 무리가 있었던 것 같다 해당 책 내용만해도 300페이지가 훨씬 넘는데 말이다.
- 앞으로 백준과 해당 책을 공부하면서 진행해야겠다. printf도 얼른 해야할 텐데,, 걱정이다.

- 
###### 8. 다음 학습 계획
- 백준 문제풀이
- 스프링 학습
- ft_printf 이슈 점검
- 평가진행하기
- 내용 정리