###### 1. 학습 날짜

- 2021-04-05 (월)

---

###### 2. 학습시간

- 10:00 ~ 18:00

---

###### 3. 학습 범위 및 주제

- 익스텐션

---

###### 4. 동료 학습 방법 

- sooyoon, chlim

---

###### 5. 학습 목표 

- 익스텐션 개발

---

###### 6. 상세 학습 내용

- 코드작성시간 :  시간

---

###### 7. 학습 내용에 대한 개인적인 총평

- # Chrome extension

  

  ---

  manifest.json 생성

  서비스워커 : 백그라운드로 돌아갈 작업

  나머지 액션은 html을 로드하면서 포함된 스크립트 로드함.

  주요 이벤트는 storage API에서 수행함.

  ```json
  {
    "name": "Getting Started Example",
    "description": "Build an Extension!",
    "version": "1.0",
    "manifest_version": 3
  }
  
  ```

  해당 파일이 있는 디렉토리는 아래 단계로 추가가능하다.

  

  

  `chrome://extensions`으로 익스텐션관리페이지를 엶

  개발자 모드인지 체크,

  압축해제된 확장프로그램 로드 => 디렉토리 선택

  =>익스텐션에 업로드 완료

  

  ### 추가기능

  위 설정은 아무것도 안되어있으므로 서비스워커가 수행할 js를 추가시키자. ->다시 업로드시키지 않아도 자동으로 업데이트를 확인하네

  ```json
  {
    "name": "Getting Started Example",
    "description": "Build an Extension!",
    "version": "1.0",
    "manifest_version": 3,
    "background": {
      "service_worker": "background.js"
    }
  }
  ```

  

  ```js
  let color = '#3aa757';
  
  chrome.runtime.onInstalled.addListener(() => {
    chrome.storage.sync.set({ color });
    console.log('Default background color set to %cgreen', `color: ${color}`);
  });
  ```

  - 크롬의 `onInstalled` 에 이벤트를 등록하면 익스텐션은 storageAPI를 사용해 값을 설정한다.

  해당 API에 대한 권한은 설정파일에 `"permissions":["storage"]`를 추가한디.

  

  

  ### 유저 인터페이스

  익스텐션은 여러 인터페이스의 form, 그리고 popup을 사용할 수 있음.

  팝업창을 띄우기 위해 설정파일, html을 추가해야한다.

  설정은 `action:...`이다.

  아이콘(파비콘)도 추가할 수 있는데 `action` 하위에 default_icon:{키:경로}를 추가해주면 된다.

  

  

  ### 유저와의 인터랙션

  익스텐션스토리지에 개인 설정 저장해두면 될 듯?

  

  

  스크립트를 inject하기 위해서 먼저 어느 페이지에 할지를 매치패턴을 통해 진행하고, 매치된 부분에 해당 js를 inject해 DOM조작을 수행하는 것 같은데, 파일로 할 수 있고, 스크립트로 할 수 있고,, 파일로 하려면 load할 css, js를 매치패턴에 같이 등록시켜주어야함.

  

  크롬 스크립팅으로 똑같이 할 수 있는 것 같은데 `scripting` 프로퍼티를 찾을 수 없다고 나오넴

  

  

###### 8. 다음 학습 계획

- 지원하지 않는 메소드 때문에 삽질을 많이 했음.