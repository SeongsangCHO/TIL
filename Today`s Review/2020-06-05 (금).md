---
###### 1. 학습 날짜

- 2020 - 06 - 05(금)
 

---

###### 2. 학습시간

- 10:00 ~ 20:00

---

###### 3. 학습 범위 및 주제

- 스프링 비즈니스계층 CRUD 구현

---

###### 4. 동료 학습 방법 

- slack (saji, yshin, Jiyang, Seongkim)

---

###### 5. 학습 목표 

- 비즈니스계층에서 CRUD를 구현한다.

---

###### 6. 상세 학습 내용

- 코드작성시간 :  6시간


## 스터디 커뮤니티 #01 



20.06.05



##### 목표 

- 비즈니스계층에서의 CRUD 구현
  - register(글 작성) - void
  - remove(글 삭제) -boolean 반환
  - modify(글 수정) -boolean 반환
  - read(글 조회) -PostVO반환
  - 매 메소드 구현마다 controller TDD

- 메인페이지에서 테이블 데이터 출력





### 글 작성

main page에서 글을 작성하는 버튼을 추가한다.

버튼에는 id를 지정해 main.js에서 클릭 이벤트리스너를 등록해, 버튼 클릭시 /post/register페이지로 이동하게 작성한다.



```
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE configuration PUBLIC "-//mybatis.org//DTD Config 3.0/EN"
"http://mybatis.org/dtd/mybatis-3-config.dtd">
<configuration>
	
	<!-- 자주 사용하는 타입의 별칭  -->	
	<typeAliases>
		<typeAlias type="org.study.domain.PostVO" alias="PostVO"/>
	</typeAliases>
	
</configuration>
```



### 추가해야할 부분

글 작성시 location_table에도 데이터 추가가 이루어져야함.

- mapper- > insert할 때 post_bno를 location의 외래키에 넣고, lng, lat, city를 register form태그에서 받아 insert => 이걸 받는 register는 2개의 객체를 받아야=> 매개인자 2개사용, loc service, mapper, vo 작성 => 완료
- lat,lng는 차후 맵선택시 자동으로 fix, 도시는 카테고리로 설정할 예정

mainPage로드시 post데이터뿐만아니라 도시데이터도 함께 로드해야함

- 게시글 클릭시 view에서 get페이지로 전달해주기 위함
- getLocation메소드를 구현해서 main페이지의 model에 location이름으로 객체 전달

footer에 테이블이 침범. 맨밑에 div를 맨 밑에 고정해야함.

페이지네이션 10개씩

- amout 10으로 수정





## 오류

- Junit테스트에서 alias경로를 읽어오지 못함.
- 해결방법은..? https://min-it.tistory.com/6 아.. 해결! kchoi님이 도와주셨다.
- classpath:의 하위폴더인 resources로 폴더를 이동하고 property의 value경로를 해당 위치로 변경했더니 오류 해결!
---

###### 7. 학습 내용에 대한 개인적인 총평

- 페이징처리 및 CRUD전부 구현예정이었으나 register할 때 위치정보도 함께 저장시켜야된다는 것을 알게되어 수정했다.
- 수정에 있어서 mapper테스트를 진행하는 도중 alias를 설정한 xml경로를 읽지못하는 에러가 발생했다.
- 에러를 수정하기 위해 블로그, 개발자 커뮤니티에서 글을 찾아보았고 여러가지를 참고하여 진행했으나 해결이 되지 않았다.
- 슬랙에서 해당사항을 질문했고 정리가 잘되어있는 블로그를 알려주시고 해결하도록 도와주셨다.
- 전일 풀었던 DP 두 문제를 복습하고 마무리했다. 

###### 8. 다음 학습 계획

- CRUD마무리
- DP 3문제
- md파일 정리하기
- SQL학습