

###### 1. 학습 날짜

- 2020 - 08 - 06(목)

---

###### 2. 학습시간

- 10:00 ~ 18:00

---

###### 3. 학습 범위 및 주제

- 예발자 FAQ 데이터 파싱하기

---

###### 4. 동료 학습 방법 

- daelee, taelee, jehong, mihykim

---

###### 5. 학습 목표 

- depth가 존재하는 FAQ 더미데이터를 구조에 맞게 파싱한다.

---

###### 6. 상세 학습 내용

- 코드작성시간 :  6시간

```javascript
router.get('/faq', (req,res) => {
  db.query(
    "select replace(programs.link, '/', '') as program,  categories.title as category,  categories.eventkey as eventKey,  subcategories.title as title,  subcategories.link as href, qnas.q , qnas.a from programs  inner join categories on programs.id = categories.programs_id inner join subcategories on categories.id = subcategories.categories_id  inner join qnas on qnas.subcategories_id = subcategories.id",
    (error, result) => {
      if (error) throw error;
      let obj1 = {}
      result.map(v => {
        //obj1(제일바깥 obj)에 program키가 있는지 체크
        if (!obj1[v.program]){
          obj1[v.program] = [];
        }
          //각 프로그램에 빈 배열을 생성해줌.
          
          //obj1는 객체임, 객체를 새로 할당하는 것이 아닌 '참조'를 진행함.
          //arr1은 obj객체의 v.program을 참조하고 있음. => 배열임
        let arr1 = obj1[v.program]
        //arr1배열에 category라는 키에 v.category라는 값이 존재하지 않으면
        //obj2라는 객체를 생성함.
        if (!hasKey(arr1, 'category', v.category)){
          let obj2 = {
            'category': v.category,
            'eventKey': v.eventKey,
            'subCategory': [],
          }
          //obj2객체는 arr1의 배열에 push됨
          arr1.push(obj2);
        }
         //map반복문에 의해 프로그램이 하나씩 쌓여가는 구조임.
          //len - 1은 현재 프로그램이라는 의미.
          //arr배열의 subCategory 키를 arr2에서 참조함.
        let arr2 = arr1[arr1.length - 1].subCategory;
        if (!hasKey(arr2, 'title', v.title)){
          let obj3 = {
            'title': v.title,
            'href': v.href,
            'qna': []
          }
          //arr2 배열에 obj3 push
          arr2.push(obj3);
        }
        let arr3 = arr2[arr2.length - 1].qna;
        if (!hasKey(arr3, 'q', v.q)){
          let obj4 = {
            'q': v.q,
            'a': v.a,
          }
          arr3.push(obj4);
        }
      })
      // console.log(obj1);
      res.send(obj1);
    })
})


```

JS에서 `참조`라는 개념이 와닿지 않았는데 코드를 보고 이해할 수 있었다.

아직 모르는 것이 너무 많다.

---

###### 7. 학습 내용에 대한 개인적인 총평

- 깊은복사, 얕은복사에 대해서 학습해야함.
- 참조에 대해 학습
- 이론에 대해서 빠삭한게 좋은건가. 라는 생각

###### 8. 다음 학습 계획

- Redux적용