###### 1. 학습 날짜

- 2020-03-21(토)

---

###### 2. 학습시간

- 14:00 ~ 22:34 (자가)

---

###### 3. 학습 범위 및 주제

- printf o, x 구현
---

###### 4. 동료 학습 방법 

- slack (saji, yshin, Jiyang, Seongkim)

---

###### 5. 학습 목표 

-  printf o, x 구현
	
---

###### 6. 과제 제출 repository 주소

http://13.125.198.2:3000/secho/ft_printf.git

---

###### 7. 상세 학습 내용

- 코드작성시간 : 5시간 

## Conditional jump or move depends on uninitialised value(s) 에러발생
- ft_itoa에서 문자열을 할당하고 끝에 NULL문자로 종결시키지 않아서 발생한 문제 => 해결
- 

![test1](https://user-images.githubusercontent.com/55486644/77221702-75425c00-6b8f-11ea-8f7e-4fb2ead829a1.JPG)
![test1_result](https://user-images.githubusercontent.com/55486644/77221704-770c1f80-6b8f-11ea-8f7a-7b32a3e194f3.JPG)
### %d

-   사진과 같이 여러 케이스를 생각해볼 수 있다.
    
-   %-10.6일 때,
    
    -   flag가 마이너스(왼쪽부터 출력해주어야함)
    -   percision가 있기 때문에 마이너스를 먼저 출력한 후 이를 제외한 숫자 123 (3자리) +3 = dot width(6자리)가 되어야한다. 이를 위해 0을 3개를 출력한다.
    -   그 후 숫자를 출력해준다.
    -   총 width는 10이기 때문에 현재 출력된 -000123 (7자리)이외에도 3자리를 더 맞춰주어야한다.
    -   flag에 맞추어 zero플래그가 아니기 때문에 공백을 출력해주어야 한다.(마이너스 뒤에 0이오면 컴파일안됨, 해당 부분은 아무것도 출력안되게 해놓았음)
    -   \-123의 최종 출력물은 -000123^^^ = dot.width(6) + -123(4) = width (10)에 맞추어 출력해준다.
    
    -   로직 : 구조체에 데이터들이 전부 저장된 후 type을 만나면 해당 type의 문자에 맞추어 int함수를 호출한다.
    -   int로 읽은 매개변수(-123)을 itoa를 통해 "-123"문자열로 변환시킨다.
    -   dot.width의 데이터에 따라 dot이 존재할때, 존재하지 않을 때 각기 다른 함수를 호출한다. -10.6은 존재하므로 int\_dot함수를 호출한다. 
    
    -   읽어온 값의 첫째자리가 '-'이면 문자열 길이 - 1을 한다. minus가 set되어 있고, '-'이면 '-'을 출력한 후, 문자열주소값 +1, 문자열길이 - 1을 수행한다 =>
    -   **출력된 값 (-), len (2)** , print\_flag에 따라, dot의 길이 (6)에서 str길이(4에서 주소값 +1 했으므로, 3이됨)를 뺀 만큼 0을 출력한다 (3개)
    -   **출력된 값 (-000), len (2)**
    -    putstr으로 str(123)을 출력한다.
    -   **출력된 값 (-000123), len (2)**
    -    print\_flag로 (len(2) + width(10)) - dot(6) - strlen(3)의 길이(3)만큼 공백을 출력한다.
    -   **출력된 값 (-000123^^^), len (2)**
    -   len을 2번 빼준 이유 => strlen를 가지고 flag를 2번 호출하는데, 주소값을 증가시켜 3의 길이를 가지므로 1씩 두번 누락되기 때문에, 2를 빼줌.  

- %c 테스트 결과

![test2_c](https://user-images.githubusercontent.com/55486644/77221758-f994df00-6b8f-11ea-98eb-b3c0591e1bd2.JPG)
![test2_c_result](https://user-images.githubusercontent.com/55486644/77221759-fac60c00-6b8f-11ea-8a26-56ceb4771718.JPG)


- %s 테스트 결과

![test3_s](https://user-images.githubusercontent.com/55486644/77221760-fb5ea280-6b8f-11ea-8c7b-93b11059d27a.JPG)
![test3_s_result](https://user-images.githubusercontent.com/55486644/77221761-fbf73900-6b8f-11ea-82ed-13b306f5207e.JPG)


- %o , %x는 양수는 int형 범위(0~2147483647)까지, 0플래그는 -, . precision무시함. -030, -30.6 옵션 X -30, 30, 030가능
- 음수는      -1      => 4294967295 //음수일땐 (음수 + 4294967296) => 값을 진법변환
-             -2      => 4294967294 를 진법변환해서 출력.. 
-             ...
-        -2147483646  => 2147483650
-        -2147483647  => 2147483649

#### Have to do

- put_nbr 함수에서 재귀호출을 진행하는데, 이 때 write할 때마다 cnt를 증가시켜주어야하는데 reset됨. 해결필요

###### 8. 학습 내용에 대한 개인적인 총평

- o,x까지 구현하려고 했는데 변환하는 부분이랑 오버플로가 발생하는부분(로직으로 구현은 못했음)은 구현했다. 그리고 재귀호출로 진법변환을 수행하는데 전역변수 이외의 방법으로 함수호출횟수를 구하려했으나 해결방법이 떠오르지 않았다.
- %d를 추가케이스들을 돌려보니 예상치못한부분이 생겨서 함수를 많이 수정했다. valgrind를 통해 메모리누수 체크도중 오류가 발생했는데 itoa에서 할당된 문자열 마지막에 null캐릭터를 삽입하여 2문제중 하나는 해결했으나 strlen에서도 문제가 발생했다. 이는 아직 해결하지 못한 상태이다.
- 문제해결 및 o,x의 문자카운터하기 그리고 플래그옵션기능까지 구현할 계획을 세웠다.
---

###### 9. 다음 학습 계획 (최소 5줄 이상)

- ft_printf구현
- 자료 정리 및 오류발생, 이에 대한 해결방법 정리하기
- netwhat자료정리
-  o,x의 문자카운터, 플래그옵션기능 구현
- ft_printf 코드 참고
- 동료들과 코드비교 및 오류처리방법 토의
- 여러 테스트케이스를 만들어 생각하지 못한 예외처리를 할 것.