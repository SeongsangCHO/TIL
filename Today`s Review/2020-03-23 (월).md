###### 1. 학습 날짜

- 2020-03-23(월)

---

###### 2. 학습시간

- (일)20:00 ~ 24:39 (자가)
- (월)13:15 ~ 20:20(자가)
---

###### 3. 학습 범위 및 주제

- printf o, x구현 netwhat 시작.
---

###### 4. 동료 학습 방법 

- slack (saji, yshin, Jiyang, Seongkim)

---

###### 5. 학습 목표 

-  printf o, x구현 netwhat 시작.
	
---

###### 6. 과제 제출 repository 주소

http://13.125.198.2:3000/secho/ft_printf.git

---

###### 7. 상세 학습 내용

- 코드작성시간 : 6시간 



## last Have to do

- put_nbr 함수에서 재귀호출을 진행하는데, 이 때 write할 때마다 cnt를 증가시켜주어야하는데 reset됨. 해결필요 => 전역변수로 해결

### 결과

![test4_o](https://user-images.githubusercontent.com/55486644/77252878-26351d80-6c9a-11ea-93b8-8a102f651637.JPG)



![test4_o_result](https://user-images.githubusercontent.com/55486644/77252880-27664a80-6c9a-11ea-95a9-9ae4ea17cdc3.JPG)


![test5_x,X](https://user-images.githubusercontent.com/55486644/77284731-aeefa000-6d12-11ea-9dda-610327404b43.JPG)

![test5_x,X _resultJPG](https://user-images.githubusercontent.com/55486644/77284728-ae570980-6d12-11ea-8877-751048a1a421.JPG)

![변경부분 input_base](https://user-images.githubusercontent.com/55486644/77285272-f4f93380-6d13-11ea-8cf2-7eb0b8bf7269.JPG)

-   기존의 기능은 str의 값에다가 + 48을, 10 이상이면 그에 맞는 + 숫자를 했었는데 ,이를 재사용하려고 하니 16진법일때와 대문자(x,X)를 구분할 수가 없었다.
-   그래서 base로 받은 문자열을 이용하는 것으로 수정하였다
-   이외의 부분은 %o랑 동일하다.

### 과정

-   match\_type에서 받아온 type에 맞추어 함수 호출.
-   va\_arg매크로를 이용하여 정수형 데이터를 매개변수로 한 handle\_oct함수 호출
-   구조체, 정수, type을 가지고 print\_oct호출

![ft_putnbr_base](https://user-images.githubusercontent.com/55486644/77252907-5e3c6080-6c9a-11ea-9dcc-28349eddfdfc.JPG)

-   putnbr\_base에서 진법, type을 가지고 진법변환 수행.
-   type, 진법으로 print\_oct에서 한꺼번에 처리하고싶었으나 줄수로 인해 print\_hex를 만들어야함..ㅠ

![putnbr](https://user-images.githubusercontent.com/55486644/77252923-8035e300-6c9a-11ea-8b1d-c2fe7e0f0d1c.JPG)

-   원래는 putnbr에서 진법변환 후 인덱스로 접근하여 출력을 바로 했으나 옵션을 생각안하고 구현을 먼저해버렸다. 그런데 어차피 print\_flag에서 문자열을 받아야하고, flag에 맞추어 출력도 바뀌어야해서 없애는게 맞았다. 해당함수는 write하는 부분을 지우고 동적할당을 위한 자릿수 계산을 위한 부분으로 변경하였다.

![input_base](https://user-images.githubusercontent.com/55486644/77252922-7f04b600-6c9a-11ea-878a-fe633c80bf99.JPG)

-   putnbr에서 구한 자릿수로 동적할당을 한다. 그리고 진법변환을 수행하여 문자열을 완성시키고 이를 반환한다.

![print_oct](https://user-images.githubusercontent.com/55486644/77253102-adcf5c00-6c9b-11ea-8fa4-8c4adfdd5ddd.JPG)

-   print\_oct에서 이를 가지고 출력한다.

## 에러

![에러](https://user-images.githubusercontent.com/55486644/77253184-10285c80-6c9c-11ea-8c6b-d481756aa18a.JPG)

**해결**

#### malloc 동적할당 사이즈 문제

-   malloc 문제는 동적할당 사이즈를 g\_cnt로만 해주었어서, g\_cnt + 1을 하여 해결

#### Conditional jump or move depends on uninitialised value(s) 에러

-   이전 문제에서는 동적할당 후, 끝에 NULL값을 삽입해주지 않아서 발생했었는데,

#### Uninitialised value was created by a stack allocation 에러

-   ft\_init에 발생
-   ft\_init에서 error\_flag를 초기화하지 않았었음 => 위의 문제도 같이 해결 !



###### 8. 학습 내용에 대한 개인적인 총평

-  에러가 많이 발생했지만 검색과 많은 시간투자로 해결했다. 다른 분들의 코드를 보면서 반성하고 싶다. 나머지 타입들도 구현해야하지만 다음 프로젝트를 위해 조금씩 공부해야할 필요를 느껴서 잠시 중단할 생각이다.
- netwhat에 대한 자료조사는 해놓은 상태이고, 서버를 진행할 것이다.
- 에러의 대부분은 동적할당시 끝에 null캐릭터 삽입하지 않은 것이었다. 이 부분을 조금 더 신경쓰면서 구현해야한다.
- netwhat은 자격증이나 학교 전공때 많이 봤던 것들이라 눈에 익고 개념도 보면 기억이 나는 정도라서 사이트만 정리해놓고 따로 학습하면 될 것 같다.
---

###### 9. 다음 학습 계획 (최소 5줄 이상)

- ft_printf구현
- 자료 정리 및 오류발생, 이에 대한 해결방법 정리하기
- netwhat자료정리현
- ft_printf 코드 참고
- 동료들과 코드비교 및 오류처리방법 토의
- 여러 테스트케이스를 만들어 생각하지 못한 예외처리를 할 것.