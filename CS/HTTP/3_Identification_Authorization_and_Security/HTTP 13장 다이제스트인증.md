## HTTP 13장





기본인증 = 전혀 안전하지 않음

다이제스트 인증 = 기본인증의 결함을 수정한 HTTP 인증 프로토콜

- 비밀번호를 네트워크를 통해 **평문**전송 X
- 인증 체결을 가로채려는 사람들을 차단.
- 내용위조를 막을 수 있음

HTTP트랜잭션의 많은 요구사항을 만족하지 못함. => TLS, HTTPS가 더 적합한 프로토콜임.




### 보호수준 향상

qop필드는 요약헤더의 WWW-Authenticate, Authorization, Authentication-Info에 존재할 수 있음.

- `WWW-Authenticate`헤더에 의해서 클라는 서버가 제공하는 인증방식을 이해할 수 있고, 그에 따른 인증 정보를 보낼 수 있다.

클라이언트, 서버가 어떤 보호기법을 어느 수준 까지 사용할 것인지를 협상할 수 있게 해줌.



모든 현대적 요약구현은 qoq옵션을 지원해야한다.

`RFC 2617`은 기본적으로 인증을 의미하는 `auth`, 인증 및 메세지 무결성 보호를 의미하는 `auth-int`라는 초기 보호수준 값을 정의하고 있다.

무결성보호가 적용되었을 때 계산되는 H(엔터티본문)은 메시지본문의 해시가 아닌 엔터티 본문의 해시이다.





### 실제상황에 대한 고려

다이제스트 인증작업시 고려해야할 사항들.

#### 다중 인증요구

- 서버는 한 리소스에 대해 여러 인증을 요구할 수 있음.
- 클라이언트는 반드시 자신이 지원할 수 있는 가장 강력한 인증 메커니즘을 선택해야함.
- 사용자 에이전트는 `WWW-Authenticate`나 `Proxy-Authenticate`헤더필드값을 분석할 때 주의를 요한다. 헤더들에 인증요구가 둘 이상 포함되거나 `WWW-Authenticate`헤더가 둘 이상 제공될 수 있기 때문.

#### 오류처리

- 다이제스트 인증에서 지시자나 적절하지 않거나 요구된 지시자가 빠져있을 경우 알맞은 응답은 `400 Bad request`임.
- 요청의 요약이 맞지않으면 로그인 실패를 기록해둠이 좋음 -> 반복된 실패는 공격자가 비밀번호 추측을 시도함을 의미함.

#### 보호공간

- 영역값은 접근서버의 루트 URL과 결합되어 보호공간을 정의한다.

- 영역: 서버의 보호된 리소스들을 자신만의 인증제도, 인가 DB 어느 한 쪽, 양쪽 모두를 가진 보호 영역의 집합으로 분할할 수 있도록 해준다.(?)

---

### __13.3__ 　 보호 수준(Quality of Protection) 향상　 `secho`


1번.

다음 빈칸에 해당하는 것을 보기를 보고 모두 고르세요.

보기 :  `Cache-control, WWW-Authenticate, auth, auth-int, MD5, MD5-sess, Authorization, Authentication-Info`

클라이언트, 서버가 어떤 보호기법을 

어느 수준 까지 사용할 것인지를 협상할 수 있게 해주는

qop필드는 요약헤더의에 `___`,`___`,`___`에 존재할 수 있다.

<br>

2번.

다음의 빈칸을 채우세요.

`RFC 2617`은 기본적으로 인증을 의미하는 `____`, 인증 및 메세지 무결성 보호를 의미하는 `____`라는 초기 보호수준 값을 정의하고 있다.

<br>



<details>
<summary> <b> :page_facing_up: 답지 </b>  </summary>
<div markdown="1">


1번.

다음 빈칸에 해당하는 것을 보기를 보고 모두 고르세요.

보기 :  `Cache-control, WWW-Authenticate, auth, auth-int, MD5, MD5-sess, Authorization, Authentication-Info`

클라이언트, 서버가 어떤 보호기법을 

어느 수준 까지 사용할 것인지를 협상할 수 있게 해주는

  qop필드는 요약헤더의에 `___`,`___`,`___`에 존재할 수 있다.

<br>



정답 : `WWW-Authenticate, Authorization, Authentication-Info`



<br>



2번.

다음의 빈칸을 채우세요.

`RFC 2617`은 기본적으로 인증을 의미하는 `____`, 인증 및 메세지 무결성 보호를 의미하는 `____`라는 초기 보호수준 값을 정의하고 있다.

정답 : `auth`, `auth-int`

</div>
</details>
<br>

### __13.4__ 　 실제 상황에 대한 고려　 `secho`
3번.

서버는 한 리소스에 대해 하나의 인증을 요구할 수밖에 , 클라이언트는 반드시 자신이 지원할 수 있는 가장 강력한 인증 메커니즘을 선택해야한다. ( O / X)

<br>



4번.

프락시는 가리키는 리소스의 변경없이 구문만 고쳐서 URI를 변경할 수 있다. 다이제스트인증은 이러한 변경에 의해 실패할 수 있다 ( O / X)

<details>
<summary> <b> :page_facing_up: 답지 </b>  </summary>
<div markdown="1">


3번.

서버는 한 리소스에 대해 하나의 인증을 요구할 수밖에 , 클라이언트는 반드시 자신이 지원할 수 있는 가장 강력한 인증 메커니즘을 선택해야한다. ( O / X)

정답 : `X` `서버는 한 리소스에 대해 여러 인증을 요구할 수 있다.`



<br>



4번.

프락시는 가리키는 리소스의 변경없이 구문만 고쳐서 URI를 변경할 수 있다. 다이제스트인증은 이러한 변경에 의해 실패할 수 있다 ( O / X)



정답 : `O ,  다이제스트 인증은 URI값의 무결성을 검사하므로, 변경에 의해 실패할 수 있음. -> A2의 요청 URI와 일치해야한다는 특성 (340p)`



</div>
</details>
<br>